<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>여행자를 위한 맛집 · 관광명소</title>
  <meta name="description" content="여행자를 위한 맛집과 관광명소 추천, 검색, 즐겨찾기 기능 제공" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <div class="container">
      <div class="nav">
        <div class="brand">
          <div class="logo">TR</div>
          <div>여행자를 위한 맛집 · 관광명소</div>
        </div>
        <div class="tools">
          <button id="toggleTheme" class="btn" aria-label="다크 모드 토글">다크 모드</button>
          <button id="showFavorites" class="btn" aria-label="즐겨찾기 보기">즐겨찾기</button>
          <a class="btn-primary btn" href="#submit" aria-label="장소 제안">장소 제안하기</a>
        </div>
      </div>

      <!-- nav와 검색창 사이 실선 구분 -->
      <hr class="nav-separator">

      <div class="searchbar">
        <div class="search-controls">
          <div class="search-input" role="search" aria-label="검색창 래퍼">
            <input id="q" type="search" placeholder="도시, 장소명, 메뉴, 키워드 검색" aria-label="검색" />
            <button class="search-icon" aria-hidden="true" tabindex="-1">
              <!-- 간단한 돋보기 SVG -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
            </button>
          </div>
          <button id="filterBtn" class="btn filter-btn" aria-expanded="false" aria-controls="filterMenu" title="필터">필터</button>
          <button id="clear" class="btn" aria-label="초기화">초기화</button>
        </div>
        <!-- 필터 드롭다운: 기존 셀렉트는 여기로 이동(아이디 동일) -->
        <div id="filterMenu" class="filter-menu" hidden>
          <div class="filter-row">
            <label>정렬</label>
            <select id="sort" class="input" aria-label="정렬">
              <option value="popular">인기순</option>
              <option value="rating">평점순</option>
              <option value="recent">최신순</option>
            </select>
          </div>
          <div class="filter-row">
            <label>도시</label>
            <select id="city" class="input" aria-label="도시 선택">
              <option value="">전체 도시</option>
              <option>부산</option>
              <option>서울</option>
              <option>제주</option>
            </select>
          </div>
          <div class="filter-row">
            <label>요리</label>
            <select id="cuisine" class="input" aria-label="요리 종류">
              <option value="">전체 요리</option>
              <option value="korean">한식</option>
              <option value="western">양식</option>
              <option value="chinese">중식</option>
              <option value="japanese">일식</option>
              <option value="fusion">퓨전/기타</option>
              <option value="other">기타</option>
            </select>
          </div>
          <div class="filter-row">
            <label>연령대</label>
            <select id="ageFilter" class="input" aria-label="연령대 선택">
              <option value="">전체 연령대</option>
              <option value="10s">10대</option>
              <option value="20s">20대</option>
              <option value="30s">30대</option>
              <option value="40s">40대</option>
              <option value="50s">50대 이상</option>
            </select>
          </div>
          <div style="display:flex;gap:8px;justify-content:flex-end;padding-top:8px">
            <button id="applyFilters" class="btn btn-primary">적용</button>
            <button id="closeFilters" class="btn">닫기</button>
          </div>
        </div>

        <!-- 카테고리 칩을 검색창 바로 아래로 이동 -->
        <div class="chips" role="tablist" aria-label="카테고리" style="margin-top:12px">
          <button class="chip active" data-filter="all" role="tab" aria-selected="true">전체</button>
          <button class="chip" data-filter="food" role="tab">맛집</button>
          <button class="chip" data-filter="sight" role="tab">관광명소</button>
          <button class="chip" data-filter="cafe" role="tab">카페</button>
          <button class="chip" data-filter="night" role="tab">야경/포인트</button>
          <button class="chip" data-filter="budget" role="tab">가성비</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section id="results">
      <div id="grid" class="grid" aria-live="polite"></div>
      <div id="empty" class="empty" hidden>조건에 맞는 결과가 없습니다. 검색어나 필터를 변경해 보세요.</div>
    </section>

    <section id="submit" style="margin-top:28px">
      <h2>장소 제안하기</h2>
      <p class="pill">아래 양식을 통해 장소를 제안해보세요</p>
      <form id="suggestForm" style="display:grid;gap:10px;grid-template-columns:repeat(2,1fr)">
        <input class="input" name="name" placeholder="장소명" required />
        <input class="input" name="city" placeholder="도시 (예: 부산)" required />
        <input class="input" name="category" placeholder="카테고리 (맛집/관광명소/카페 등)" required />
        <input class="input" name="address" placeholder="주소" />
        <input class="input" name="price" placeholder="예상 가격대 (예: 15000~30000원)" />
        <input class="input" name="tags" placeholder="태그 (쉼표로 구분)" />
        <textarea class="input" name="desc" placeholder="설명" style="grid-column:1/-1" rows="4"></textarea>
        <button class="btn btn-primary" type="submit" style="grid-column:1/-1">제출 </button>
      </form>
      <div id="suggestToast" class="pill" style="margin-top:8px"></div>
    </section>
  </main>

  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <div class="modal-header">
        <div id="modalTitle" class="title"></div>
        <button id="modalClose" class="modal-close" aria-label="닫기">닫기</button>
      </div>
      <div class="modal-body">
        <div id="modalContent"></div>
        <div id="modalTags" class="tags"></div>
        <div class="map" id="modalMap"></div>
      </div>
    </div>
  </div>

  <footer class="container">
    <div>© 2025 여행자를 위한 맛집 · 관광명소. 
    </div>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>